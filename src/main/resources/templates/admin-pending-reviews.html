<!DOCTYPE html>
<html lang="bg"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–µ–æ–¥–æ–±—Ä–µ–Ω–∏ —Ä–µ–≤—é—Ç–∞ | –ê–¥–º–∏–Ω | AgroDirect</title>

    <link rel="stylesheet" th:href="@{/css/admin-pending-reviews.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <th:block th:replace="fragments/head-links :: headLinks"></th:block>
    <link rel="stylesheet" href="/vendors/fontawesome/css/all.min.css" />
</head>

<body>

<div class="page-wrapper">

    <div th:replace="~{fragments/header :: siteHeader}"></div>

    <!-- üü© –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ä–µ–≤—é—Ç–∞—Ç–∞ -->
    <div class="admin-reviews-container">
        <h2>–ù–µ–æ–¥–æ–±—Ä–µ–Ω–∏ —Ä–µ–≤—é—Ç–∞</h2>

        <div th:if="${#lists.isEmpty(pendingReviews)}" class="no-reviews">
            –ù—è–º–∞ —á–∞–∫–∞—â–∏ —Ä–µ–≤—é—Ç–∞ –∑–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ.
        </div>

        <div th:each="review : ${pendingReviews}" class="review-block">
            <div class="review-details">

                <p>
                    <strong>–û—Ç–Ω–∞—Å—è —Å–µ –∑–∞:</strong>
                    <span th:if="${review.productName != null}" th:text="'–ü—Ä–æ–¥—É–∫—Ç: ' + ${review.productName}"></span>
                    <span th:if="${review.articleTitle != null}" th:text="'–°—Ç–∞—Ç–∏—è: ' + ${review.articleTitle}"></span>
                </p>

                <p><strong>–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª:</strong> <span th:text="${review.fullName}"></span></p>
                <p><strong>–û—Ü–µ–Ω–∫–∞:</strong> <span th:text="${review.rating}"></span> ‚≠ê</p>
                <p><strong>–ö–æ–º–µ–Ω—Ç–∞—Ä:</strong> <span th:text="${review.content}"></span></p>
                <p><strong>–î–∞—Ç–∞:</strong> <span th:text="${#temporals.format(review.createdOn, 'dd.MM.yyyy HH:mm')}"></span></p>
            </div>

            <div class="actions">
                <form th:action="@{'/admin/reviews/' + ${review.id} + '/approve'}" method="post">
                    <button type="submit" class="thm-btn approve">‚úÖ –û–¥–æ–±—Ä–∏</button>
                </form>
                <form th:action="@{'/admin/reviews/' + ${review.id} + '/delete'}" method="post">
                    <button type="submit" class="thm-btn delete">üóë –ò–∑—Ç—Ä–∏–π</button>
                </form>

                <form th:if="${review.productId != null}" th:action="@{'/product/' + ${review.productId}}" method="get">
                    <button type="submit" class="thm-btn">üîç –ü—Ä–µ–≥–ª–µ–¥</button>
                </form>

                <form th:if="${review.articleId != null}" th:action="@{'/farmer/articles/details/' + ${review.articleId}}" method="get">
                    <button type="submit" class="thm-btn">üîç –ü—Ä–µ–≥–ª–µ–¥</button>
                </form>

            </div>
        </div>
    </div>

    <div th:replace="~{fragments/footer :: footer}"></div>

</div>


<!-- –°–∫—Ä–∏–ø—Ç–æ–≤–µ –∞–∫–æ –ø–æ–ª–∑–≤–∞—à Bootstrap –∏–ª–∏ JS -->
<script th:src="@{/vendors/jquery/jquery-3.6.0.min.js}"></script>
<script th:src="@{/vendors/bootstrap/js/bootstrap.bundle.min.js}"></script>

</body>
</html>
